webpackJsonp([29],{

/***/ 2355:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});var _table=__webpack_require__(68);var _table2=_interopRequireDefault(_table);var _regenerator=__webpack_require__(10);var _regenerator2=_interopRequireDefault(_regenerator);var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();__webpack_require__(77);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactRedux=__webpack_require__(19);var _app=__webpack_require__(82);var _i18n=__webpack_require__(13);var _reactIntl=__webpack_require__(11);var _lodash=__webpack_require__(17);var _Links=__webpack_require__(23);var _loaders=__webpack_require__(25);var _index=__webpack_require__(30);var _index2=_interopRequireDefault(_index);var _reactstrap=__webpack_require__(60);var _Price=__webpack_require__(40);var _constants=__webpack_require__(22);var _api=__webpack_require__(14);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{return Promise.resolve(value).then(function(value){step("next",value);},function(err){step("throw",err);});}}return step("next");});};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Accounts=function(_Component){_inherits(Accounts,_Component);function Accounts(){var _this2=this;_classCallCheck(this,Accounts);var _this=_possibleConstructorReturn(this,(Accounts.__proto__||Object.getPrototypeOf(Accounts)).call(this));_this.loadAccounts=function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regenerator2.default.mark(function _callee(){var page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var pageSize=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;var _ref2,list,random,data,_ref3,funds,compare,foundationAddress,item,address;return _regenerator2.default.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:compare=function compare(property){return function(obj1,obj2){if(obj1[property]>obj2[property]){return 1;}else if(obj1[property]<obj2[property]){return-1;}else{return 0;}};};_this.setState({loading:true});_context.next=4;return _api.Client.getlistdonators();case 4:_ref2=_context.sent;list=_ref2.list;random=Math.random();_context.next=9;return _index2.default.get(_constants.API_URL+"/api/fund?random=\""+random+"&page_index="+page+"&per_page="+pageSize);case 9:data=_context.sent;_context.next=12;return _api.Client.getFundsSupply();case 12:_ref3=_context.sent;funds=_ref3.funds;data.data.data.data.sort(compare('key'));foundationAddress=data.data.data.data;for(item in foundationAddress){for(address in list){if(foundationAddress[item].address===list[address]){foundationAddress[item].isPlan=true;}}}_this.setState({loading:false,accounts:foundationAddress,total:funds.fundSumBalance/_constants.ONE_TRX,tronicsPlanTRX:funds.donateBalance/_constants.ONE_TRX,foundationTRX:funds.fundTrx,planAddress:list});case 18:case"end":return _context.stop();}}},_callee,_this2);}));return function(){return _ref.apply(this,arguments);};}();_this.state={loading:true,searchString:"",accounts:[],total:1000,tronicsPlanTRX:0,foundationTRX:0};return _this;}_createClass(Accounts,[{key:"componentDidMount",value:function componentDidMount(){this.loadAccounts();}},{key:"handleHover",value:function handleHover(key){this.setState(function(prevS,props){return _defineProperty({},key,!prevS[key]);});}},{key:"componentDidUpdate",value:function componentDidUpdate(){}},{key:"renderAccounts",value:function renderAccounts(){var _this3=this;var _state=this.state,accounts=_state.accounts,total=_state.total,loadAccounts=_state.loadAccounts,open=_state.open;var intl=this.props.intl;var tableInfo=intl.formatMessage({id:'view_total'})+' 1000 '+intl.formatMessage({id:'address_unit'});var column=[{title:'#',dataIndex:'key',key:'key',width:100,align:'left'//className: 'ant_table ant_table_plan',
// rowClassName: (record,index) => {
//     return (
//         record.isPlan?  'ant_table_plan' :'ant_table'
//     )
// }
},{title:intl.formatMessage({id:'address'}),dataIndex:'address',key:'address',align:'left',render:function render(text,record,index){return record.isPlan?_react2.default.createElement("div",null,_react2.default.createElement("div",{className:"d-flex",style:{width:300},id:"Tronics-Support-Plan_"+record.key,onMouseOver:function onMouseOver(prevS,props){return _this3.setState(_defineProperty({},record.key,true));},onMouseOut:function onMouseOut(){return _this3.setState(_defineProperty({},record.key,false));}},_react2.default.createElement("i",{className:"fas fa-heart",style:{color:'#C23631',marginTop:3,marginRight:5}}),_react2.default.createElement(_Links.AddressLink,{address:text,truncate:false})),_react2.default.createElement(_reactstrap.Tooltip,{placement:"top",target:"Tronics-Support-Plan_"+record.key,isOpen:_this3.state[record.key]}," ",_react2.default.createElement("span",{className:"text-capitalize"},(0,_i18n.tu)("tronics_support_plan_recipient_address")))):_react2.default.createElement(_Links.AddressLink,{address:text});}},{title:intl.formatMessage({id:'balance'}),dataIndex:'balance',key:'balance',width:200,align:'right',render:function render(text,record,index){return _react2.default.createElement(_Price.TRXPrice,{amount:text/_constants.ONE_TRX});}}];return _react2.default.createElement("div",{className:"token_black"},accounts.length===0?_react2.default.createElement("div",{className:"card",style:{background:'white'}},_react2.default.createElement(_loaders.TronLoader,null,(0,_i18n.tu)("loading"))):_react2.default.createElement("div",{className:"card table_pos"},total?_react2.default.createElement("div",{className:"table_pos_info d-none d-md-block",style:{left:'auto'}},tableInfo," \xA0\xA0",_react2.default.createElement("a",{href:intl.locale=='zh'?"https://tron.network/donation?lng=zh":"https://tron.network/donation?lng=en",target:"_blank",style:{color:'#C23631'}},(0,_i18n.tu)('tronics_support_plan'),">")):'',_react2.default.createElement(_table2.default,{bordered:true,columns:column,dataSource:accounts,rowClassName:function rowClassName(record,index){return record.isPlan?'ant_table_plan':'';},onChange:function onChange(pagination){_this3.loadAccounts(pagination.current,pagination.pageSize);},pagination:{position:'both',showSizeChanger:true,defaultPageSize:20,total:1000}})));}},{key:"render",value:function render(){var _props=this.props,match=_props.match,intl=_props.intl;var _state2=this.state,total=_state2.total,tronicsPlanTRX=_state2.tronicsPlanTRX,foundationTRX=_state2.foundationTRX,loading=_state2.loading,planAddress=_state2.planAddress;return _react2.default.createElement("main",{className:"container header-overlap pb-3 token_black"},_react2.default.createElement("div",{className:"row foundation_title"},_react2.default.createElement("div",{className:"col-md-3 mt-3 mt-md-0 pr-0"},_react2.default.createElement("div",{className:"card h-100 widget-icon"},_react2.default.createElement("div",{className:"card-body pl-4 bg-image_book"},_react2.default.createElement("h3",null,_react2.default.createElement(_reactIntl.FormattedNumber,{value:total})),(0,_i18n.tu)("total_number_frozenTRX")))),_react2.default.createElement("div",{className:"col-md-3 mt-3 mt-md-0 position-relative pr-0"},_react2.default.createElement("a",{href:intl.locale=='zh'?"https://tron.network/donation?lng=zh":"https://tron.network/donation?lng=en",target:"_blank",className:"tronics_plan_link"},_react2.default.createElement("div",{className:"card h-100 widget-icon"},_react2.default.createElement("div",{className:"card-body pl-4"},_react2.default.createElement("h3",null,_react2.default.createElement("span",{className:"tronics_plan_title"},_react2.default.createElement(_reactIntl.FormattedNumber,{value:tronicsPlanTRX}))),_react2.default.createElement("span",{className:"tronics_plan_dec"},(0,_i18n.tu)("tronics_support_planTRX")))))),_react2.default.createElement("div",{className:"col-md-3 mt-3 mt-md-0 pr-0"},_react2.default.createElement("div",{className:"card h-100 widget-icon"},_react2.default.createElement("div",{className:"card-body pl-4 bg-image_home"},_react2.default.createElement("h3",null,_react2.default.createElement(_reactIntl.FormattedNumber,{value:foundationTRX})),(0,_i18n.tu)("frozen_by_the_foundationTRX")))),_react2.default.createElement("div",{className:"col-md-3 mt-3 mt-md-0"},_react2.default.createElement("div",{className:"card h-100 widget-icon bg-line_green"},_react2.default.createElement("div",{className:"card-body pl-4 bg-image_frozen"},_react2.default.createElement("h3",null,"2020/01/01"),(0,_i18n.tu)("unfreeze_time"))))),_react2.default.createElement("div",{className:"row mt-2"},_react2.default.createElement("div",{className:"col-md-12"},_react2.default.createElement("div",{className:"mt-1"},this.renderAccounts()))));}}]);return Accounts;}(_react.Component);function mapStateToProps(state){return{accounts:state.app.accounts};}var mapDispatchToProps={loadAccounts:_app.loadAccounts};exports.default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)((0,_reactIntl.injectIntl)(Accounts));

/***/ })

});
//# sourceMappingURL=Foundation.b4c7b94d.chunk.js.map
webpackJsonp([30],{

/***/ 2354:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});var _tooltip=__webpack_require__(69);var _tooltip2=_interopRequireDefault(_tooltip);var _regenerator=__webpack_require__(10);var _regenerator2=_interopRequireDefault(_regenerator);var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();__webpack_require__(154);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactRedux=__webpack_require__(19);var _app=__webpack_require__(82);var _i18n=__webpack_require__(13);var _reactIntl=__webpack_require__(11);var _lodash=__webpack_require__(17);var _Links=__webpack_require__(23);var _constants=__webpack_require__(22);var _Price=__webpack_require__(40);var _SmartTable=__webpack_require__(50);var _SmartTable2=_interopRequireDefault(_SmartTable);var _loaders=__webpack_require__(25);var _QuestionMark=__webpack_require__(66);var _index=__webpack_require__(30);var _index2=_interopRequireDefault(_index);var _api=__webpack_require__(14);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{return Promise.resolve(value).then(function(value){step("next",value);},function(err){step("throw",err);});}}return step("next");});};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Accounts=function(_Component){_inherits(Accounts,_Component);function Accounts(){var _this2=this;_classCallCheck(this,Accounts);var _this=_possibleConstructorReturn(this,(Accounts.__proto__||Object.getPrototypeOf(Accounts)).call(this));_this.loadAccounts=function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regenerator2.default.mark(function _callee(){var page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var pageSize=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;var _ref2,accounts,total,rangeTotal;return _regenerator2.default.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({loading:true});_context.next=3;return _api.Client.getAccounts({sort:'-balance',limit:pageSize,start:(page-1)*pageSize});case 3:_ref2=_context.sent;accounts=_ref2.accounts;total=_ref2.total;rangeTotal=_ref2.rangeTotal;// let {txOverviewStats} = await Client.getTxOverviewStats();
_this.setState({loading:false,accounts:accounts,total:total,rangeTotal:rangeTotal});case 8:case"end":return _context.stop();}}},_callee,_this2);}));return function(){return _ref.apply(this,arguments);};}();_this.onChange=function(page,pageSize){_this.loadAccounts(page,pageSize);};_this.onSearchFieldChangeHandler=function(e){_this.setState({searchString:e.target.value});};_this.customizedColumn=function(){var intl=_this.props.intl;var column=[{title:(0,_lodash.upperFirst)(intl.formatMessage({id:'address'})),dataIndex:'address',key:'address',align:'left',className:'ant_table',width:'40%',render:function render(text,record,index){return record.accountType==2?_react2.default.createElement("span",{className:"d-flex"},_react2.default.createElement(_tooltip2.default,{placement:"top",title:intl.formatMessage({id:'contracts'})},_react2.default.createElement("span",null,_react2.default.createElement("i",{className:"far fa-file mr-1"}))),_react2.default.createElement(_Links.AddressLink,{address:text,isContract:record.toAddressType==2})):_react2.default.createElement(_Links.AddressLink,{address:text});}},{title:(0,_lodash.upperFirst)(intl.formatMessage({id:'supply'})),dataIndex:'balance',key:'supply',align:'left',className:'ant_table',// width: '12%',
render:function render(text,record,index){return _react2.default.createElement("div",null,_react2.default.createElement(_reactIntl.FormattedNumber,{value:parseInt(text)/_constants.ONE_TRX/_constants.CIRCULATING_SUPPLY*100,minimumFractionDigits:8,maximumFractionDigits:8})," %");}},{title:(0,_lodash.upperFirst)(intl.formatMessage({id:'power'})),dataIndex:'power',key:'power',align:'center',// width: '15%',
render:function render(text,record,index){return _react2.default.createElement(_reactIntl.FormattedNumber,{value:parseInt(text)/_constants.ONE_TRX});}},{title:(0,_lodash.upperFirst)(intl.formatMessage({id:'balance'})),dataIndex:'balance',key:'balance',align:'right',className:'ant_table',// width: '15%',
render:function render(text,record,index){return _react2.default.createElement(_Price.TRXPrice,{amount:parseInt(text)/_constants.ONE_TRX});}}];return column;};_this.state={loading:true,searchString:"",accounts:[],total:0};return _this;}_createClass(Accounts,[{key:"componentDidMount",value:function componentDidMount(){this.loadAccounts();}},{key:"componentDidUpdate",value:function componentDidUpdate(){//checkPageChanged(this, this.loadAccounts);
}},{key:"filteredAccounts",value:function filteredAccounts(){var accounts=this.props.accounts;var searchString=this.state.searchString;searchString=searchString.toUpperCase();if(searchString.length>0){accounts=(0,_lodash.filter)(accounts,function(a){return a.address.toUpperCase().indexOf(searchString)!==-1;});}return accounts;}},{key:"renderAccounts",value:function renderAccounts(){var accounts=this.state.accounts;if(accounts.length===0){return;}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement("div",{className:"table-responsive"},_react2.default.createElement("table",{className:"table table-striped m-0"},_react2.default.createElement("thead",{className:"thead-dark"},_react2.default.createElement("tr",null,_react2.default.createElement("th",null,(0,_i18n.tu)("address")),_react2.default.createElement("th",{className:"d-md-table-cell"},(0,_i18n.tu)("supply")),_react2.default.createElement("th",{className:"d-md-table-cell"},(0,_i18n.tu)("power")),_react2.default.createElement("th",null,(0,_i18n.tu)("balance")))),_react2.default.createElement("tbody",null,accounts.map(function(account,index){return _react2.default.createElement("tr",{key:account.address},_react2.default.createElement("th",null,_react2.default.createElement(_Links.AddressLink,{address:account.address})),_react2.default.createElement("td",{className:"d-md-table-cell text-nowrap"},_react2.default.createElement(_reactIntl.FormattedNumber,{value:account.balance/_constants.ONE_TRX/_constants.CIRCULATING_SUPPLY*100,minimumFractionDigits:8,maximumFractionDigits:8})," %"),_react2.default.createElement("td",{className:"text-nowrap d-md-table-cell"},_react2.default.createElement(_reactIntl.FormattedNumber,{value:account.power/_constants.ONE_TRX})),_react2.default.createElement("td",{className:"text-nowrap"},_react2.default.createElement(_Price.TRXPrice,{amount:account.balance/_constants.ONE_TRX})));})))));}},{key:"render",value:function render(){var _this3=this;var _props=this.props,match=_props.match,intl=_props.intl;var _state=this.state,total=_state.total,loading=_state.loading,_state$rangeTotal=_state.rangeTotal,rangeTotal=_state$rangeTotal===undefined?0:_state$rangeTotal,accounts=_state.accounts;var column=this.customizedColumn();var tableInfo=intl.formatMessage({id:'view_total'})+' '+rangeTotal+' '+intl.formatMessage({id:'account_unit'})+'<br/>'+'('+intl.formatMessage({id:'table_info_big'})+')';var tableInfoTip=intl.formatMessage({id:'table_info_account_tip1'})+' '+rangeTotal+' '+intl.formatMessage({id:'table_info_account_tip2'});return _react2.default.createElement("main",{className:"container header-overlap pb-3 token_black"},_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-md-12"},_react2.default.createElement("div",{className:"card h-100 text-center widget-icon accout_unit"},_react2.default.createElement("div",{className:"card-body"},_react2.default.createElement("h3",{className:"text-primary"},_react2.default.createElement(_reactIntl.FormattedNumber,{value:rangeTotal})),(0,_i18n.tu)("total_accounts"))))),loading&&_react2.default.createElement("div",{className:"loading-style"},_react2.default.createElement(_loaders.TronLoader,null)),_react2.default.createElement("div",{className:"row mt-2"},_react2.default.createElement("div",{className:"col-md-12 table_pos"},total?_react2.default.createElement("div",{className:"table_pos_info d-none d-md-block",style:{left:'auto'}},_react2.default.createElement("div",null,(0,_i18n.tu)('view_total')," ",rangeTotal," ",(0,_i18n.tu)('account_unit')," ",_react2.default.createElement(_QuestionMark.QuestionMark,{placement:"top",info:tableInfoTip})," ",_react2.default.createElement("br",null)," ",_react2.default.createElement("span",null,"(",(0,_i18n.tu)('table_info_big'),")"))):'',_react2.default.createElement(_SmartTable2.default,{bordered:true,loading:loading,column:column,data:accounts,total:total,onPageChange:function onPageChange(page,pageSize){_this3.loadAccounts(page,pageSize);}}))));}}]);return Accounts;}(_react.Component);function mapStateToProps(state){return{accounts:state.app.accounts};}var mapDispatchToProps={loadAccounts:_app.loadAccounts};exports.default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)((0,_reactIntl.injectIntl)(Accounts));

/***/ })

});
//# sourceMappingURL=Accounts.80874621.chunk.js.map